<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.cdnfonts.com/css/bebas-neue" rel="stylesheet">
    <title>Document</title>
</head>

<body>
    <h1>BALD-HEAD</h1>
    <canvas id="canvas"></canvas>
</body>

<style>
    canvas {
        position: absolute;
        top: 50%;
        transform: translate(-50%, -50%);
        left: 50%;
        border: 5px solid red;
        box-shadow: 10px 10px 30px red;
    }

    h1 {
        font-size: 7rem;
        text-transform: uppercase;
        font-family: 'Bebas Neue';
        line-height: 5.9rem;
        margin-top: 20px;
        color: red;
        text-align: center;
    }
    body {
        background-color: black;
    }
</style>
<script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const ctx2 = canvas.getContext('2d');
    ctx.canvas.width = window.innerWidth / 2 * 1.6;
    ctx.canvas.height = window.innerHeight / 2 * 1.65;
    console.log(ctx.canvas.width);
    console.log(ctx.canvas.height);
    var teclap = 0;
    var sprite = new Image();
    var csprite = new Image();
    csprite.src = "Zombie.png";
    var back = new Image();
    back.src = "Web.png";
    sprite.src = "a2.png";
    var indiceX = 0, indiceY = 0;
    var sprX = canvas.width / 2, sprY = canvas.height / 2;
    var cindiceX = 0, cindiceY = 0;
    var csprX = 0, csprY = 0;
    var start;
    var currentFrame = 0;
    var sheetWidth = 900;
    var sheetHeight = 405;
    var cols = 9;
    var rows = 4;
    var width = sheetWidth / cols;
    var height = sheetHeight / rows;
    var flag = true;

    function updateFrame() {
        collisions();
        currentFrame = ++currentFrame % cols;
        indiceX = currentFrame * width;
        cindiceX = currentFrame * width;
        ctx.clearRect(sprX, sprY, width, height);
        ctx.clearRect(csprX, csprY, width, height);
    }

    function drawImage() {
        updateFrame();
        ctx.fillStyle = "blue";
        ctx2.drawImage(back, 0, 0);
        ctx.drawImage(sprite, indiceX, indiceY * 100, width, height, sprX, sprY, 65, 65);
        ctx.drawImage(csprite, cindiceX, cindiceY * 100, width, height, csprX, csprY, 65, 65);
        
        document.onkeydown = function (e) {
            if (e == null)
                teclap = window.e.keyCode;
            else {
                teclap = e.keyCode;
            }
            switch (teclap) {
                case 40: //s
                    sprY += 15;
                    indiceY = 2;
                    break;
                case 37://a
                    sprX -= 15;
                    indiceY = 1;
                    break;
                case 38://w
                    sprY -= 15;
                    indiceY = 0;
                    break;
                case 39: //d
                    sprX += 15;
                    indiceY = 3;
                    break;
                case 83: //s
                    csprY += 15;
                    cindiceY = 2;
                    break;
                case 65://a
                    csprX -= 15;
                    cindiceY = 1;
                    break;
                case 87://w
                    csprY -= 15;
                    cindiceY = 0;
                    break;
                case 68: //d
                    csprX += 15;
                    cindiceY = 3;
                    break;
                default:
                    break;
            }
        }
    }

    function drawObject ()
    {
        ctx.fillRect(100, 100, 50, 50);
    }
    setInterval(function () {
        drawImage();
        if(flag == false)
            drawObject()
    }, 75);

    function collisions() {
        console.log("X " + csprX);
        console.log("Y " + csprY);
        //border collisionsssss
        if (sprX > canvas.width - 60)
            sprX = canvas.width - 60;
        if (sprX < 0)
            sprX = 0;
        if (sprY > canvas.height - 60)
            sprY = canvas.height - 60;
        if (sprY < 0)
            sprY = 0;
        if (csprX > canvas.width - 60)
            csprX = canvas.width - 60;
        if (csprX < 0)
            csprX = 0;
        if (csprY > canvas.height - 60)
            csprY = canvas.height - 60;
        if (csprY < 0)
            csprY = 0;

       if((csprX > 285 && csprX <= 315) && (csprY <= 170 && csprY >= 60))
            csprX = 315;
        if(csprX <= 30 && (csprY >= 60 && csprY <= 135))
            csprX = 30;
        if((csprX > 255 && csprX < 286) && (csprY <= 135 && csprY > 60))
            csprX = 270;   
        if((csprX >= 30 && csprX <= 275) && (csprY >= 135 && csprY <= 150))
            csprY = 135
        if((csprX <= 300 && csprX >= 0) && (csprY <= 195 && csprY >= 175))
            csprY = 195;

        if((sprX > 285 && sprX <= 315) && (sprY <= 170 && sprY >= 60))
            sprX = 315;
        if(sprX <= 30 && (sprY >= 60 && sprY <= 135))
            sprX = 30;
        if((sprX > 255 && sprX < 286) && (sprY <= 135 && sprY > 60))
            sprX = 270;   
        if((sprX >= 30 && sprX <= 275) && (sprY >= 135 && sprY <= 150))
            sprY = 135
        if((sprX <= 300 && sprX >= 0) && (sprY <= 195 && sprY >= 175))
            sprY = 195;
            
        
            //Y 507 -> 520 X 165


        if((sprX >= 405 && sprX <= 420) && (sprY >= 555 && sprY <= 570))
        {
            sprX = 1230;
            sprY = 75;
            indiceY = 1
        }
        if((sprX >= 165 && sprX <= 180) &&  (sprY < 555 && sprY >= 505))
            sprX = 165;
        if((sprX >= 195 && sprX < 465) && (sprY >= 480 && sprY <= 505))
            sprY = 480;
        if((sprX <= 477 && sprX >= 460) &&(sprY >= 495 && sprY <= 600))
            sprX = 477;
        if((sprX >= 195 && sprX <= 395) && (sprY >= 535 && sprY <= 570))
            sprY = 555;
        if((sprX >= 195 && sprX <= 460) && (sprY <= 627 && sprY >= 597))
            sprY = 627;


        if((csprX >= 390 && csprX <= 405) && (csprY >= 555 && csprY <= 570))
            csprX = 390
        if((csprX >= 165 && csprX <= 180) &&  (csprY < 555 && csprY >= 505))
            csprX = 165;
        if((csprX >= 195 && csprX < 465) && (csprY >= 480 && csprY <= 505))
            csprY = 480;
        if((csprX <= 477 && csprX >= 460) &&(csprY >= 495 && csprY <= 600))
            csprX = 477;
        if((csprX >= 195 && csprX <= 395) && (csprY >= 535 && csprY <= 570))
            csprY = 555;
        if((csprX >= 195 && csprX <= 460) && (csprY <= 627 && csprY >= 597))
            csprY = 627;

    }
</script>

</html>